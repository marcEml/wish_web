{% extends 'base.html.twig' %}

{% block title %}
    Top-3 Wishlists by Total Value
{% endblock %}

{% block body %}

<nav class="admin-menu">
    <div class="dropdown">
        <!-- 这里是下拉菜单的标题按钮 -->
        <button class="dropbtn">
            Administration
            <span class="triangle">▲</span> {# 小三角形，可通过CSS旋转等效果处理 #}
        </button>

        <!-- 这里是下拉的内容区域 -->
        <div class="dropdown-content">
            <!-- 链接1:单个商品排名页面 -->
            <a href="{{ path('top3_items') }}">
                The Top-3 Most Expensive Items Bought for a Wishlist
            </a>
            
            <!-- 链接2:愿望清单排名页面 -->
            <a href="{{ path('top3_wishlists') }}">
                The Top-3 Wishlists by Total Value of Purchased Gifts
            </a>

            <!-- 链接3:如果需要,放别的管理链接 -->
            <a href="#">
                The Top-3 Something Else
            </a>
        </div>
    </div>
</nav>

<h2>Top-3 Wishlists by Total Value of Purchased Gifts</h2>


<!-- 三列布局 -->
<div class="top3-wishlists">

    <!-- 左列：第二名 -->
    <div class="wishlist-rank">
        <div class="wishlist-value">
            Top-2 value: {{ top3Wishlists[1].totalValue }}€
        </div>
        <div class="wishlist-bar bar2">
            2
        </div>
        <div class="wishlist-link">
            <a href="#">Click for details</a>
        </div>
    </div>

    <!-- 中列：第一名 -->
    <div class="wishlist-rank">
        <div class="wishlist-value">
            Top-1 value: {{ top3Wishlists[0].totalValue }}€
        </div>
        <div class="wishlist-bar bar1">
            1
        </div>
        <div class="wishlist-link">
            <a href="#">Click for details</a>
        </div>
    </div>

    <!-- 右列：第三名 -->
    <div class="wishlist-rank">
        <div class="wishlist-value">
            Top-3 value: {{ top3Wishlists[2].totalValue }}€
        </div>
        <div class="wishlist-bar bar3">
            3
        </div>
        <div class="wishlist-link">
            <a href="#">Click for details</a>
        </div>
    </div>
</div>

<!-- 简易样式示例，可根据实际需求调整 -->
<style>
    .top3-wishlists {
        display: flex;
        justify-content: center;   /* 水平居中 */
        align-items: flex-end;     /* 底部对齐，形成高低不同的条状 */
        gap: 2rem;                 /* 列之间的间距 */
        margin-top: 2rem;
    }

    .wishlist-rank {
        text-align: center;
    }

    .wishlist-value {
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .wishlist-bar {
        background-color: #8DC63F; /* 绿色 */
        color: #fff;
        font-weight: bold;
        font-size: 1.5rem;
        width: 80px;              /* 每列宽度，可调整 */
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0.5rem;
    }

    /* 这里用固定高度模拟“排行榜”视觉差异，也可根据 totalValue 动态设置 */
    .bar1 {
        height: 180px; /* 第一名最高 */
    }
    .bar2 {
        height: 120px; /* 第二名中等 */
    }
    .bar3 {
        height: 90px;  /* 第三名最矮 */
    }

    .wishlist-link a {
        color: #007bff;
        text-decoration: underline;
    }
    .admin-menu {
        margin-bottom: 1rem; /* 给菜单和内容之间留点空隙 */
    }

    /* 下拉菜单整体 */
    .dropdown {
        position: relative;
        display: inline-block; /* 让按钮和内容保持并排/相对定位 */
    }

    /* 下拉按钮 */
    .dropbtn {
        background-color: #0088cc; 
        color: #fff;
        padding: 8px 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        outline: none;
    }

    /* 小三角形（▲）可通过 transform 来控制方向，如有需要可在CSS中做旋转 */
    .triangle {
        font-size: 12px;
        margin-left: 8px;
    }

    /* 下拉菜单内容，默认隐藏 */
    .dropdown-content {
        display: none;
        position: absolute;     /* 相对于 dropdown 容器进行定位 */
        background-color: #fff;
        min-width: 300px;       /* 下拉宽度，可根据内容调整 */
        box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        z-index: 999;           /* 保证下拉在顶层 */
    }

    /* 下拉菜单中的每个链接 */
    .dropdown-content a {
        display: block;
        color: #333;
        padding: 12px 16px;
        text-decoration: none;
        white-space: nowrap; /* 避免自动换行 */
    }

    /* 鼠标悬停效果 */
    .dropdown-content a:hover {
        background-color: #f1f1f1;
    }

    /* 当鼠标悬停在 .dropdown 上时，显示下拉菜单 */
    .dropdown:hover .dropdown-content {
        display: block;
    }

    /* 当鼠标悬停在按钮上时，按钮背景变色（可选） */
    .dropdown:hover .dropbtn {
        background-color: #006699;
    }
</style>
{% endblock %}
